(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{251:function(v,_,t){v.exports=t.p+"assets/img/focus.3e4cd02f.png"},252:function(v,_,t){v.exports=t.p+"assets/img/rules.d1e2b14d.png"},253:function(v,_,t){v.exports=t.p+"assets/img/views.444e9f0d.png"},254:function(v,_,t){v.exports=t.p+"assets/img/pools.f1f456d1.png"},261:function(v,_,t){"use strict";t.r(_);var e=t(17),a=Object(e.a)({},(function(){var v=this,_=v.$createElement,e=v._self._c||_;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("h1",{attrs:{id:"简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[v._v("#")]),v._v(" 简介")]),v._v(" "),e("p",[e("code",[v._v("epg-focus-vue")]),v._v("插件是基于 VUE 开发的，可应用于使用遥控、键盘等外设控制元素节点获焦失焦的场景的插件。根据焦点元素所在页面的坐标及尺寸就近移动页面焦点。")]),v._v(" "),e("h2",{attrs:{id:"版本差异"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#版本差异"}},[v._v("#")]),v._v(" 版本差异")]),v._v(" "),e("h3",{attrs:{id:"_1-x-版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-x-版本"}},[v._v("#")]),v._v(" 1.x 版本")]),v._v(" "),e("ol",[e("li",[v._v("该版本基于 vue2、vue-router 开发；")]),v._v(" "),e("li",[v._v("在布局上，如果水平方向没有交集，则视为上下层布局；")]),v._v(" "),e("li",[v._v("该版本不支持划定区域"),e("code",[v._v("group")]),v._v("中嵌套"),e("code",[v._v("group")]),v._v("区域的布局方式；")]),v._v(" "),e("li",[v._v("该版本不支持入口"),e("code",[v._v("app.vue")]),v._v("文件中的"),e("code",[v._v("routeview")]),v._v("外存在固定"),e("code",[v._v("items")]),v._v("节点；")]),v._v(" "),e("li",[v._v("按键响应相关键值请参考"),e("RouterLink",{attrs:{to:"/v1/event.html"}},[v._v("按键事件")]),v._v("，暂不支持配置；")],1),v._v(" "),e("li",[v._v("与路由的 keepAlive 相关内容关联性差；")]),v._v(" "),e("li",[v._v("嵌套路由视图、命名视图兼容异常。")])]),v._v(" "),e("h3",{attrs:{id:"_2-x-版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-x-版本"}},[v._v("#")]),v._v(" 2.x 版本")]),v._v(" "),e("ol",[e("li",[v._v("该版本基于 vue2、vue-router、vueX 开发；")]),v._v(" "),e("li",[v._v("使用"),e("code",[v._v("getBoundingClientRect")]),v._v("获取焦点位置，重构焦点计算方法；")]),v._v(" "),e("li",[v._v("变更插件部分属性方法；")]),v._v(" "),e("li",[v._v("在布局上，如果水平方向没有交集，则视为上下层布局；")]),v._v(" "),e("li",[v._v("该版本支持划定区域"),e("code",[v._v("group")]),v._v("中嵌套"),e("code",[v._v("group")]),v._v("区域的布局方式，节点的"),e("code",[v._v("data-group")]),v._v("属性仅需指向直属"),e("code",[v._v("group")]),v._v("即可；")]),v._v(" "),e("li",[v._v("按键 Maps 可配置，且支持长按操作交互；")]),v._v(" "),e("li",[v._v("增加路由"),e("code",[v._v("keepAlive")]),v._v("相关处理逻辑，并支持嵌套路由视图以及命名路由视图；")]),v._v(" "),e("li",[v._v("必要情况下可以使用"),e("code",[v._v("group")]),v._v("矫正区域划定，来完成对应方向上的焦点移动；")]),v._v(" "),e("li",[v._v("支持配置进入/退出休眠模式。")])]),v._v(" "),e("h3",{attrs:{id:"_3-x-版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-x-版本"}},[v._v("#")]),v._v(" 3.x 版本")]),v._v(" "),e("ol",[e("li",[v._v("该版本基于 typescript、vue3、vue-router、pinia 开发；")]),v._v(" "),e("li",[v._v("包含 2.x 版本所有功能；")]),v._v(" "),e("li",[v._v("重定义 group、sign 等属性的定义赋值形式，将原有 dataset 形式改为自定义指令修饰符形式；")]),v._v(" "),e("li",[v._v("增加鼠标悬停及点击的响应逻辑；")]),v._v(" "),e("li",[v._v("变更插件部分属性方法；")]),v._v(" "),e("li",[v._v("重构路由视图区域间焦点移动逻辑；")]),v._v(" "),e("li",[v._v("不同命名视图中焦点响应方法可以自定义。")])]),v._v(" "),e("h2",{attrs:{id:"焦点管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#焦点管理"}},[v._v("#")]),v._v(" 焦点管理")]),v._v(" "),e("p",[v._v("焦点的注册、更新、删除与自定义指令所绑定的元素节点的挂载、更新、移除相对应；")]),v._v(" "),e("ol",[e("li",[v._v("节点绑定")]),v._v(" "),e("li",[v._v("判断所属区域，进入对应区域处理逻辑")]),v._v(" "),e("li",[v._v("根据"),e("code",[v._v("data-popup")]),v._v("属性，进入默认层级或自定义层级处理（对应 3.x 版本的 popup）")]),v._v(" "),e("li",[v._v("根据"),e("code",[v._v("data-group")]),v._v("属性，将节点推入默认列表或自定义的 group 列表（对应 3.x 版本的 group）")]),v._v(" "),e("li",[v._v("根据"),e("code",[v._v("data-sign")]),v._v("属性，同时将节点推入相关的标记列表（对应 3.x 版本的 sign）")]),v._v(" "),e("li",[v._v("节点数据更新时，直接调用节点更新逻辑更新绑定数据对象")]),v._v(" "),e("li",[v._v("节点移除时，从对应列表中将该节点移除")])]),v._v(" "),e("p",[e("img",{attrs:{src:t(251),alt:"焦点注册过程",title:"焦点注册过程"}})]),v._v(" "),e("h2",{attrs:{id:"移动规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#移动规则"}},[v._v("#")]),v._v(" 移动规则")]),v._v(" "),e("ol",[e("li",[v._v("两个焦点水平方向上无交集，则通过上下移动切换焦点；")]),v._v(" "),e("li",[v._v("两个交点水平方向上有交集，则可以通过左右移动切换焦点；")]),v._v(" "),e("li",[v._v("就近原则；优先移动到指定方向最近的一个焦点；")]),v._v(" "),e("li",[v._v("交集多的优先原则；如果多个焦点满足就近原则，优先移动到交集更多的焦点；")]),v._v(" "),e("li",[v._v("左/上优先原则；在焦点移动过程中，如果多个焦点到该焦点最近距离相等，则优先移动到左/上侧的焦点；")]),v._v(" "),e("li",[v._v("右/下优先原则；以任意基准点作参考，查询焦点时，如果多个焦点到该基准点最近距离相等，则优先移动到右/下侧的焦点")]),v._v(" "),e("li",[v._v("从一个焦点移动到新的区域或 group 范围时；向右/下移动到新区域，移动到区域内左上角的焦点，向左移动到新区域，移动到区域内右上角的焦点，向上移动到新区域，移动到区域内左下角的焦点；")]),v._v(" "),e("li",[v._v("在实际应用中，如果节点实际尺寸未小数，有可能会引起焦点移动异常；这是由于在获取焦点尺寸位置是均为整数，而引起的数值计算上的位置重叠引起的，因此建议两节点之间至少间隔"),e("code",[v._v("1px")]),v._v("或者布局尺寸使用整数，来避免计算异常问题。")])]),v._v(" "),e("p",[e("img",{attrs:{src:t(252),alt:"焦点移动规则",title:"焦点移动规则"}})]),v._v(" "),e("h2",{attrs:{id:"页面布局"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#页面布局"}},[v._v("#")]),v._v(" 页面布局")]),v._v(" "),e("p",[v._v("最新版本的插件优化了对嵌套路由、命名路由视图使用的支持，页面布局区域划分规则如图："),e("br"),v._v(" "),e("img",{attrs:{src:t(253),alt:"epg-focus-vue页面结构划分",title:"epg-focus-vue页面结构划分"}})]),v._v(" "),e("h3",{attrs:{id:"_1、区域划分"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、区域划分"}},[v._v("#")]),v._v(" 1、区域划分")]),v._v(" "),e("p",[v._v("根据"),e("code",[v._v("Vue Router")]),v._v("的相关应用，对页面的视图区域划分为三种区域：")]),v._v(" "),e("ul",[e("li",[v._v("公共区域：页面模版"),e("code",[v._v("router-view")]),v._v("外的区域")]),v._v(" "),e("li",[v._v("命名路由区域：页面 router")])]),v._v(" "),e("h3",{attrs:{id:"_2、区域层级划分"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、区域层级划分"}},[v._v("#")]),v._v(" 2、区域层级划分")]),v._v(" "),e("p",[v._v("页面中通过给含有相关自定义指令的节点添加"),e("code",[v._v("data-popup")]),v._v("属性来区分不同焦点所属层级，用于区分弹层焦点与普通页面焦点。（对应 3.x 版本的 popup）")]),v._v(" "),e("ul",[e("li",[v._v("默认层级：未定义"),e("code",[v._v("data-popup")]),v._v("属性或"),e("code",[v._v("data-popup")]),v._v("属性为空字符串")]),v._v(" "),e("li",[v._v("自定义层级：定义"),e("code",[v._v("data-popup")]),v._v("属性（属性值为字符串）")])]),v._v(" "),e("h3",{attrs:{id:"_3、层级池管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、层级池管理"}},[v._v("#")]),v._v(" 3、层级池管理")]),v._v(" "),e("p",[v._v("层级池中包含焦点列表和多个自定义的 group 列表以及自定义的标记列表，对应关系如图："),e("br"),v._v(" "),e("img",{attrs:{src:t(254),alt:"epg-focus-vue 区域层级池",title:"epg-focus-vue 区域层级池"}})]),v._v(" "),e("h2",{attrs:{id:"示例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[v._v("#")]),v._v(" 示例")]),v._v(" "),e("p",[e("a",{attrs:{href:"https://gitee.com/wyzhgx/vuepages",target:"_blank",rel:"noopener noreferrer"}},[v._v("应用示例"),e("OutboundLink")],1)])])}),[],!1,null,null,null);_.default=a.exports}}]);